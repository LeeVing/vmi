<?xml version="1.0"?>
<openerp>
	<data> 
<!-- Product Normal Form (inherit)-->
		<record id="product_normal_form_inherit" model="ir.ui.view">
			<field name="name">vmi.product.form.inherit</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_normal_form_view" />
			<field eval="5" name="priority"/>
			<field name="arch" type="xml">
				<field name="name" invisible="1" />
				<field name="default_code" position="after">
				    <field name="vendor_part_number" />
				</field>
		  </field>
		</record>

        <record id="product_category_form_view_inherit" model="ir.ui.view">
            <field name="name">product.category.form.inherit</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="product.product_category_form_view" />
            <field name="arch" type="xml">
                <field name="type" position="after">
                    <field name="code"/>
                </field>
            </field>
        </record>

        <record id="view_location_form_inherit" model="ir.ui.view">
            <field name="name">stock.location.form.inherit</field>
            <field name="model">stock.location</field>
            <field name="inherit_id" ref="stock.view_location_form" />
            <field name="arch" type="xml">
                <field name="partner_id" position="after">
                    <field name="code"/>
                </field>
            </field>
        </record>
	       <!-- Product Suppliers (inherit)
		<record id="view_product_supplier_inherit" model="ir.ui.view">
				<field name="name">product.normal.supplier.form.inherit</field>
				<field name="model">product.product</field>
				<field name="inherit_id" ref="product.product_normal_form_view"/>
				<field name="arch" type="xml">
						<group name="procurement" position="after">
								 <separator string="Suppliers"/>
								 <field name="seller_ids" context="{'uom_id': uom_id}"/>
						</group>
				</field>
		</record> -->
    <!-- Audit Wizard -->
		<record id="view_stock_move_audit_wizard" model="ir.ui.view">
				<field name="name">Audit Move</field>
				<field name="model">stock.move.audit</field>
				<field name="arch" type="xml">
						<form string="Audit Move" version="7.0">
								<separator string="Audit Products"/>
								<group>
										<field name="product_id"  readonly="1"/>
										<label for="product_qty"/>
										<div>
												<field name="product_qty" class="oe_inline"/>
												<field name="product_uom" class="oe_inline" readonly="1" groups="product.group_uom"/>
										</div>
										<field name="location_id" string="Location" readonly="1"
												domain="[('usage','!=','view')]" groups="stock.group_locations"/> 
								</group>
								<footer>
										<button name="move_audited" string="Ok" type="object" class="oe_highlight"  />
										or
										<button string="Cancel" class="oe_link" special="cancel" />
								</footer>
						</form>
				</field>
		</record>
		<!-- Audit Wizard Action -->        
		<record id="move_audit" model="ir.actions.act_window">
				<field name="name">Audit Move</field>
				<field name="type">ir.actions.act_window</field>
				<field name="res_model">stock.move.audit</field>
				<field name="view_type">form</field>
				<field name="view_mode">form</field>
				<field name="target">new</field>
		</record>
<!-- Stock Move Tree (inherit)-->
		<record id="stock_move_tree2_inherit" model="ir.ui.view">
			<field name="name">stock.move.tree2.inherit</field>
			<field name="model">stock.move</field>
			<field name="inherit_id" ref="stock.view_move_tree_reception_picking" />
			<field eval="5" name="priority"/>
			<field name="arch" type="xml">
				<tree position="attributes">
					<attribute name="colors">blue:audit=='true'</attribute>
                    <attribute name="create">false</attribute>
					<!-- <attribute name="colors">grey:audit_fail=='true'</attribute> -->
				</tree>
				<field name="date" position="after">
				  <field name="audit" invisible="1" />
				  <field name="audit_fail" invisible="1" />
				</field>
				<field name="product_qty" position="after">
				  <button name="%(vmi.move_audit)d" icon="gtk-find" type="action" colspan="1" help="Audit" attrs="{'invisible': ['|',('state','=','done'),('audit','&lt;&gt;', True)]}" />
				  <button name="fail_audit" icon="gtk-dialog-warning" type="object" colspan="1" help="Failed Audit" attrs="{'invisible': [('audit_fail','&lt;&gt;', True)]}" />
				</field>
                <field name="prodlot_id" position="replace"/>
                <button string="Split in Serial Numbers" position="replace"/>
                <field name="tracking_id" position="replace">
                    <field name="invoice_status" string="Invoice Status"/>
                </field>
                <button string="Put in current pack" position="replace"/>
                <button string="Put in a new pack" position="replace"/>
                <button string="Scrap Products" position="replace"/>
                <button name="action_done" position="replace"/>
			</field>
		</record>

<!-- Stock Move Form (inherit)-->
		<record id="stock_move_form_inherit" model="ir.ui.view">
			<field name="name">stock.move.form.inherit</field>
			<field name="model">stock.move</field>
			<field name="inherit_id" ref="stock.view_move_form" />
			<field eval="5" name="priority"/>
			<field name="arch" type="xml">
                <form position="attributes">
                    <attribute name="create">false</attribute>
                    <attribute name="edit">false</attribute>
                </form>
                <button string="Process Later" position="replace"/>
                <button string="Process Entirely" position="replace"/>
                <button string="Process Partially" position="replace"/>
                <button string="Set Available" position="replace"/>
                <button string="Scrap" position="replace"/>
                <field name="name" position="after">
                  <field name="vendor_id" />
                  <field name="invoice_status" string="Invoice Status"/>
                </field>
				<field name="date" position="after">
				  <field name="audit" invisible="1" />
				  <field name="audit_fail" invisible="1" />
				  <field name="note" />
				</field>
				<field name="product_uom" position="after">
				  <button name="%(vmi.move_audit)d" icon="gtk-find" type="action" class="oe_highlight" string="Audit" help="Audit" attrs="{'invisible': ['|',('state','=','done'),('audit','&lt;&gt;', True)]}" />
				  <button name="fail_audit" icon="gtk-dialog-warning" type="object" class="oe_highlight" string="Failed Audit" help="Failed Audit" attrs="{'invisible': [('audit_fail','&lt;&gt;', True)]}" />
				</field>
                <group string="Traceability" position="replace"/>
		  </field>
		</record>
		<!-- Stock Picking Move Tree -->
    <record id="view_move_picking_tree_inherit" model="ir.ui.view">
				<field name="name">stock.move.tree.inherit</field>
				<field name="model">stock.move</field>
				<field name="inherit_id" ref="stock.view_move_picking_tree" />
				<field eval="4" name="priority"/>
				<field name="arch" type="xml">
					<tree position="attributes">
					    <attribute name="colors">blue:audit=='true'</attribute>
					    <attribute name="colors">red:audit_fail=='true'</attribute>
					</tree>
					<field name="product_qty" position="after">
						<field name="audit" invisible="1" />
						<field name="audit_fail" invisible="1" />
						<button name="%(vmi.move_audit)d" icon="gtk-find" type="action" colspan="1" help="Audit" attrs="{'invisible': ['|',('state','=','done'),('audit','&lt;&gt;', True)]}" />
						<button name="fail_audit" icon="gtk-dialog-warning" type="object" colspan="1" help="Failed Audit" attrs="{'invisible': [('audit_fail','&lt;&gt;', True)]}" />
					</field>
                    <button string="Scrap Products" position="replace"/>
                    <button string="Split in Serial Number" position="replace"/>
                    <button string="Put in current pack" position="replace"/>
                    <button string="Put in a new pack" position="replace"/>

				</field>
		</record>

        <!--<record id="view_move_picking_form_inherit" model="ir.ui.view">
            <field name="name">stock.move.form</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_picking_form" />
            <field name="arch" type="xml">
                <field name="product_uom" position="after">
                    <field name="invoice_status" string="Invoice Status"/>
                </field>
            </field>
        </record>-->


        <record id="view_move_search_inherit" model="ir.ui.view">
            <field name="name">stock.move.search</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_search"/>
            <field name="arch" type="xml">
                <filter name="done" position="after">
                    <filter name="audit_location" string="To Be Audit" domain="[('audit', '=', True)]" help="Parts to be audited"/>
                </filter>
            </field>
        </record>

        <record id="action_reception_picking_move_inherit" model="ir.actions.act_window">
            <field name="name">Parts To Be Audited By Location</field>
            <field name="res_model">stock.move</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">['|','&amp;',('picking_id','=',False),('location_id.usage', 'in', ['customer','supplier']),'&amp;',('picking_id','!=',False),('picking_id.type','=','in')]</field>
            <field name="view_id" ref="stock_move_tree2_inherit"/>
            <field name="context">{'product_receive': True, 'search_default_audit_location': True, 'search_default_groupby_dest_location_id': True, 'picking_type': 'in'}</field>
            <field name="help" type="html">
              <p>
                Here you can receive individual products, no matter what
                purchase order or picking order they come from. You will find
                the list of all products you are waiting for. Once you receive
                an order, you can filter based on the name of the supplier or
                the purchase order reference. Then you can confirm all products
                received using the buttons on the right of each line.
              </p>
            </field>
        </record>

        <record id="view_picking_in_form_inherit" model="ir.ui.view">
            <field name="name">stock.picking.in.form.inherit</field>
            <field name="model">stock.picking.in</field>
            <field name="inherit_id" ref="stock.view_picking_in_form"/>
            <field name="arch" type="xml">
                <form position="attributes">
                    <attribute name="create">false</attribute>
                    <attribute name="edit">false</attribute>
                </form>
                <button string="Create Invoice/Refund" position="replace">
                    <!--<button name="%(stock.action_stock_invoice_onshipping)d" string="Create Invoice"  attrs="{'invisible': ['|','|',('state','&lt;&gt;','done'),('invoice_state','=','invoiced'),('invoice_state','=','none')]}"  type="action" class="oe_highlight"/>-->
                </button>
                <xpath expr="//button[@name='%(stock.act_stock_return_picking)d']" position="replace"/>
                <field name="min_date" position="replace">
                    <field name="date_done"/>
                </field>
                <field name="invoice_state" position="replace">
                    <field name="invoice_state"/>
                </field>
                <field name="stock_journal_id" position="replace"/>
                <field name="move_lines" position="replace">
                    <field name="move_lines">
                        <tree editable="bottom" string="Stock Move">
                            <field name="product_id"/>
                            <field name="product_qty"/>
                            <field name="product_uom"/>
                            <field name="location_dest_id"/>
                            <field name="audit" invisible="1" />
						    <field name="audit_fail" invisible="1" />
						    <button name="%(vmi.move_audit)d" icon="gtk-find" type="action" colspan="1" help="Audit" attrs="{'invisible': ['|',('state','=','done'),('audit','&lt;&gt;', True)]}" />
						    <button name="fail_audit" icon="gtk-dialog-warning" type="object" colspan="1" help="Failed Audit" attrs="{'invisible': [('audit_fail','&lt;&gt;', True)]}" />
                            <field name="invoice_status" string="Invoice Status"/>
                            <field name="state"/>
                        </tree>
                    </field>
                </field>
            </field>
        </record>
        <!--Modify incoming shipment tree, form and filter-->
        <record id="view_picking_in_tree_inherit" model="ir.ui.view">
            <field name="name">stock.picking.in.tree</field>
            <field name="model">stock.picking.in</field>
            <field name="inherit_id" ref="stock.view_picking_in_tree"/>
            <field name="arch" type="xml">
                <tree position="attributes">
					<attribute name="colors">blue:contains_audit=='yes';green:contains_audit=='no';green:contains_audit=='pass';red:contains_audit=='fail'</attribute>
				</tree>
                <field name="name" position="replace"/>
                <field name="backorder_id" position="replace"/>
                <field name="origin" position="after">
                    <field name="location_dest_id"/>
                </field>
                <field name="min_date" position="replace">
                    <field name="date_done"/>
                    <field name="contains_audit"/>
                </field>
                <field name="invoice_state" position="replace">
                    <field name="invoice_state"/>
                </field>
                <field name="stock_journal_id" position="replace"/>
            </field>
        </record>

        <record id="view_picking_in_search_inherit" model="ir.ui.view">
            <field name="name">stock.picking.in.search</field>
            <field name="model">stock.picking.in</field>
            <field name="inherit_id" ref="stock.view_picking_in_search"/>
            <field name="arch" type="xml">
                <filter string="Order Date" position="replace"/>
                <filter string="Expected Date" position="replace">
                    <filter string="Date of Transfer" icon="terp-go-month" domain="[]" context="{'group_by':'date_done'}"/>
                    <filter string="Supplier" domain="[]" context="{'group_by':'partner_id'}"/>
                    <filter name="group_location_cate_id" string="Destination" domain="[]" context="{'group_by':'location_dest_id'}"/>
                </filter>
                <filter string="Journal" position="replace"/>
            </field>
        </record>

        <record id="action_picking_tree4_inherit" model="ir.actions.act_window">
            <field name="name">Packaging Slip By Location</field>
            <field name="res_model">stock.picking.in</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="domain">[('type','=','in')]</field>
            <field name="context">{'contact_display': 'partner_address', 'default_type': 'in', 'search_default_group_location_cate_id': True}</field>
            <field name="view_id" ref="view_picking_in_tree_inherit"/>
            <field name="help" type="html">
              <p>
                The Incoming Shipments is the list of all orders you will
                receive from your suppliers. An incoming shipment contains a
                list of products to be received according to the original
                purchase order.
              </p>
            </field>
        </record>

        <record id="vmi_view_stock_invoice_shipping" model="ir.ui.view">
            <field name="name">Stock Invoice Onshipping Inherit</field>
            <field name="model">stock.invoice.onshipping</field>
            <field name="inherit_id" ref="stock.view_stock_invoice_onshipping"/>
            <field name="arch" type="xml">
                <field name="invoice_date" position="replace">
                    <field name="due_date"/>
                </field>
                <field name="journal_id" position="replace"/>
                <field name="group" position="replace"/>
            </field>
        </record>

        <!-- VMI Client Page -->
        <record id="vmi_client_page_form" model="ir.ui.view">
            <field name="name">vmi.client.page.form</field>
            <field name="model">vmi.client.page</field>
            <field name="arch" type="xml">
                <form string="Client Page" version="7.0">
                  <sheet>
                    <div class="oe_title">
                        <h1>
                            <label string="VMI Client Page: " />
                            <field name="name" class="oe_inline" select="1"/>
                        </h1>
                    </div>
                    <notebook colspan="4">
                        <page string="Form">
                            <label for="form_action" />
                            <field name="form_action"/>
                            <label for="form_legend" />
                            <field name="form_legend"/>
                        </page>
                        <page string="Page">
                            <label for="title" />
                            <field name="title"/>
                            <div class="oe_clear" />
                            <label for="header" />
                            <field name="header" class="oe_inline"/>
                        </page>
                        <page string="Template">
                            <label for="template_path" />
                            <field name="template_path"/>
                            <label for="template_name" />
                            <field name="template_name"/>
                        </page>
                        <page string="Control">
                            <label for="mode" />
							<field name="mode" />
                            <label for="form_flag" />
                            <field name="form_flag"/>
                            <label for="active" />
							<field name="active"/>
                        </page>
                    </notebook>
                    <group string="Record">
						    <field name="write_date" />
						    <field name="write_uid" />
	         		</group>
                  </sheet>
                </form>
            </field>
        </record>
        <record id="view_client_tree" model="ir.ui.view">
            <field name="name">stock.client.tree</field>
            <field name="model">vmi.client.page</field>
            <field name="arch" type="xml">
                <tree string="Client Pages">
                    <field name="name"/>
                    <field name="template_name"/>
                    <field name="mode"/>
                    <field name="form_flag"/>
                    <field name="active"/>
                    <field name="write_date"/>
                </tree>
            </field>
        </record>
        <record id="action_client_form" model="ir.actions.act_window">
            <field name="name">Client Pages</field>
            <field name="res_model">vmi.client.page</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to define a new client page.
              </p>
            </field>
        </record>
        <menuitem action="action_client_form" id="menu_action_client_form" parent="stock.menu_stock_configuration" sequence="1"/>
        <!--Add Location and Category to invoice tree-->
        <record id="invoice_tree_inherit" model="ir.ui.view">
				<field name="name">account.invoice.tree.inherit</field>
				<field name="model">account.invoice</field>
				<field name="inherit_id" ref="account.invoice_tree" />
				<field name="arch" type="xml">
                    <tree position="attributes">
					    <attribute name="colors">blue:state=='draft';black:state=='manager_approved';green:state=='vendor_approved';red:state=='vendor_denied'</attribute>
					</tree>
                    <field name="user_id" position="after">
                        <field name="location_id" groups="stock.group_locations"/>
                        <field name="category_id" />
                    </field>
                    <field name="date_due" position="replace"/>
                    <field name="origin" position="replace"/>
				</field>
		</record>
        <!--Add Location and Category to supplier invoice form; Modify status bar-->
        <record id="invoice_supplier_form_inherit" model="ir.ui.view">
            <field name="name">account.invoice.supplier.form.inherit</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <button name="invoice_open" position="replace">
                    <button name="invoice_open" states="draft,vendor_denied" string="Validate" class="oe_highlight"/>
                    <!--<button name="invoice_validate" states="draft,vendor_denied" string="Validate" type="object" class="oe_highlight"/>-->
                    <button name="prepare_to_pay" states="vendor_approved" string="Prepare to Pay" type="object" class="oe_highlight"/>
                </button>
                <button name="invoice_cancel" position="replace">
                    <button name="invoice_cancel" states="draft,manager_approved,vendor_approved,vendor_denied" type="object" string="Cancel Invoice"/>
                    <button name="generate_ap_file" states="ready" type="object" string="Generate AP File" class="oe_highlight"/>
                    <button name="action_invoice_sent" type="object" string="Send by Email"/>
                </button>
                <button name="action_cancel_draft" position="replace"/>
                <button name="action_invoice_sent" position="replace"/>
                <field name="state" position="replace">
                    <field name="state" widget="statusbar" statusbar_visible="draft,manager_approved,vendor_approved,ready"/>
                </field>
                <field name="partner_id" position="after">
                    <field name="location_id" attrs="{'readonly': [('state','in',('vendor_approved','ready'))]}"/>
                    <field name="category_id" attrs="{'readonly': [('state','in',('vendor_approved','ready'))]}"/>
                </field>
                <field name="fiscal_position" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>
                <!--<field name="invoice_line" position="replace">
                    <field name="invoice_line" nolabel="1" widget="one2many_list" context="{'type': type}">
                        <tree string="Invoice Lines" attrs="{'readonly': [('state','in',('vendor_approved','ready'))]}">
                            <field name="sequence" widget="handle"/>
                            <field name="product_id" on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                            <field name="name"/>
                            <field name="company_id" invisible="1"/>
                            <field name="account_id" groups="account.group_account_user"
                                 domain="[('company_id', '=', parent.company_id), ('journal_id', '=', parent.journal_id), ('type', '=', 'other')]"
                                 on_change="onchange_account_id(product_id, parent.partner_id, parent.type, parent.fiscal_position,account_id)"/>
                            <field name="account_analytic_id" groups="analytic.group_analytic_accounting"
                                            domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
                            <field name="quantity"/>
                            <field name="uos_id" groups="product.group_uom"
                                            on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                            <field name="price_unit"/>
                            <field name="discount" groups="sale.group_discount_per_so_line"/>
                            <field name="invoice_line_tax_id" widget="many2many_tags" context="{'type':parent.type}"
                                            domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]"/>
                            <field name="price_subtotal"/>
                        </tree>
                    </field>
                </field>-->
                <field name="check_total" position="replace"/>
                <field name="tax_line" position="replace">
                    <field name="account_line">
                        <tree string="Account Summary">
                            <field name="account_id"/>
                            <field name="total"/>
                        </tree>
                    </field>
                </field>
            </field>
        </record>


        <!--<record id="view_delivery_fee_tree" model="ir.ui.view">
            <field name="name">view.delivery.fee.tree</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
                <tree string="Invoice">
                    <field name="date_invoice"/>
                    <field name="partner_id"/>
                    <field name="name"/>
                    <field name="amount_total"/>
                </tree>
            </field>
        </record>-->

        <!--Add Category and Location to group by-->
        <record id="view_account_invoice_filter_inherit" model="ir.ui.view">
            <field name="name">view.account.invoice.filter.inherit</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.view_account_invoice_filter"/>
            <field name="arch" type="xml">
                <filter string="Due Date" position="after">
                    <filter string="Category" icon="terp-folder-orange" domain="[]" context="{'group_by':'category_id'}"/>
                    <filter string="Location" icon="terp-folder-orange" domain="[]" context="{'group_by':'location_id'}"/>
                </filter>
            </field>
        </record>

        <!--Add Email Settings to Accounting tab-->
        <record model="ir.ui.view" id="view_mail_tree_inherit">
            <field name="name">view.mail.tree.inherit</field>
            <field name="model">mail.mail</field>
            <field name="inherit_id" ref="mail.view_mail_tree"/>
            <field name="arch" type="xml">
                <field name="subject" position="after">
                    <field name="partner_ids" string="Recipients"/>
                    <field name="state"/>
                </field>
                <field name="author_id" position="replace"/>
            </field>
        </record>

        <!--Set default groups-->
        <record model="ir.ui.view" id="view_mail_search">
            <field name="name">mail.mail.search</field>
            <field name="model">mail.mail</field>
            <field name="arch" type="xml">
                <search string="Email Search">
                    <field name="email_from" filter_domain="['|', '|',('email_from','ilike',self), ('email_to','ilike',self), ('subject','ilike',self)]" string="Email"/>
                    <field name="date"/>
                    <filter icon="terp-camera_test" name="received" string="Received" domain="[('state','=','received')]"/>
                    <filter icon="terp-call-start" name="outgoing" string="Outgoing" domain="[('state','=','outgoing')]"/>
                    <filter icon="terp-check" name="sent" string="Sent" domain="[('state','=','sent')]"/>
                    <filter icon="terp-gtk-stop" name="exception" string="Failed" domain="[('state','=','exception')]"/>
                    <separator/>
                    <filter icon="terp-camera_test" name="type_email" string="Email" domain="[('type','=','email')]"/>
                    <filter icon="terp-camera_test" name="type_comment" string="Comment" domain="[('type','=','comment')]"/>
                    <filter icon="terp-camera_test" name="type_notification" string="Notification" domain="[('type','=','notification')]"/>
                    <group expand="0" string="Extended Filters...">
                        <field name="author_id"/>
                        <field name="partner_ids"/>
                        <field name="model"/>
                        <field name="res_id"/>
                    </group>
                    <group expand="0" string="Group By...">
                        <filter string="Status" name="status" domain="[]" context="{'group_by':'state'}"/>
                        <filter string="Author" name="author" context="{'group_by':'author_id'}"/>
                        <filter string="Recipient" name="recipient" context="{'group_by':'partner_ids'}"/>
                        <filter string="Thread" name="thread" domain="[]" context="{'group_by':'message_id'}"/>
                        <filter string="Month" name="month" help="Creation Month" domain="[]" context="{'group_by':'date'}"/>
                        <filter string="Status" name="status" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_view_mail_mail" model="ir.actions.act_window">
            <field name="name">Emails</field>
            <field name="res_model">mail.mail</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_mail_search"/>
        </record>

        <!--Add Email Template to Accounting tab-->
        <record model="ir.ui.view" id="email_template_tree">
            <field name="name">email.template.tree</field>
            <field name="model">email.template</field>
            <field name="arch" type="xml">
                <tree string="Templates">
                    <field name="mail_server_id" invisible="1"/>
                    <field name="name"/>
                    <field name="model_id"/>
                    <field name="subject"/>
                    <field name="email_from"/>
                    <field name="email_to"/>
                    <field name="email_recipients"/>
                    <field name="report_name"/>
                </tree>
            </field>
        </record>

        <record id="view_email_template_search" model="ir.ui.view">
           <field name="name">email.template.search</field>
           <field name="model">email.template</field>
           <field name="arch" type="xml">
               <search string="Templates">
                    <field name="name" filter_domain="['|', '|', '|',('name','ilike',self), ('report_name','ilike',self), ('subject','ilike',self), ('email_to','ilike',self)]" string="Templates"/>
                    <field name="lang"/>
                    <field name="model_id"/>
                    <group expand="0" string="Group by...">
                        <filter string="SMTP Server" domain="[]" context="{'group_by':'mail_server_id'}" icon="terp-folder-orange"/>
                        <filter string="Model" domain="[]" context="{'group_by':'model_id'}" icon="terp-accessories-archiver"/>
                    </group>
               </search>
           </field>
        </record>

        <record model="ir.actions.act_window" id="action_email_template_tree_all">
            <field name="name">Templates</field>
            <field name="res_model">email.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="view_id" ref="email_template_tree" />
            <field name="search_view_id" ref="view_email_template_search"/>
        </record>

        <menuitem id="account_email_menu" name="Email Notification" parent="account.menu_finance_configuration" sequence="1"/>
        <menuitem name="Emails" id="menu_mail_mail" parent="account_email_menu" action="action_view_mail_mail" />
        <menuitem name="Templates" id="menu_email_templates" parent="account_email_menu" action="action_email_template_tree_all"/>

        <!--Add Email Notification to partners under Contacts tab-->
        <record id="view_partner_form_inherit" model="ir.ui.view">
            <field name="name">view.partner.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <field name="website" position="after">
                    <field name="code"/>
                </field>
                <form string="Contact" position="inside">
                    <sheet position="inside">
                        <div>
                            <field name="notification"/><label for="notification"/>
                            <field name="audit_notification"/><label for="audit_notification"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="account_invoice_confirm_view" model="ir.ui.view">
            <field name="name">account.invoice.allocate.form</field>
            <field name="model">account.invoice.allocate</field>
            <field name="arch" type="xml">
                <form string="Prepare to Pay" version="7.0">
                    <p class="oe_grey">
                    </p>
                    <footer>
                        <button string="Prepare Invoices" name="invoice_allocate" type="object" default_focus="1" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <act_window id="action_account_invoice_allocate"
            multi="True"
            key2="client_action_multi"
            name="Prepare to Pay"
            res_model="account.invoice.allocate"
            src_model="account.invoice"
            view_mode="form"
            target="new"
            view_type="form" />

        <record id="account_invoice_calculate_form" model="ir.ui.view">
            <field name="name">account.invoice.calculate.form</field>
            <field name="model">account.invoice.calculate</field>
            <field name="arch" type="xml">
                <form string="Calculate Service Fee" version="7.0">
                    <p class="oe_grey">
                        Calculate service fee based on selected invoices.
                    </p>
                    <footer>
                        <button string="Calculate" name="invoice_calculate" type="object" default_focus="1" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <act_window id="action_calculate_service_fee"
            multi="True"
            key2="client_action_multi"
            name="Calculate Service Fee"
            res_model="account.invoice.calculate"
            src_model="account.invoice"
            view_mode="form"
            target="new"
            view_type="form" />

        <record id="view_generate_ap_file" model="ir.ui.view">
            <field name="name">view.generate.ap.file</field>
            <field name="model">account.invoice.generate</field>
            <field name="arch" type="xml">
                <form string="Generate AP File" version="7.0">
                    <p class="oe_grey">
                        Generate AP File based on selected invoices.
                    </p>
                    <footer>
                        <button string="Generate" name="prepare_to_generate_ap_file" type="object" default_focus="1" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <act_window id="action_generate_ap_file"
            multi="True"
            key2="client_action_multi"
            name="Generate AP File"
            res_model="account.invoice.generate"
            src_model="account.invoice"
            view_mode="form"
            target="new"
            view_id="view_generate_ap_file"
            view_type="form"/>

        <record id="view_users_form_inherit" model="ir.ui.view">
            <field name="name">res.users.form.inherit</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="base.view_users_form"/>
            <field name="arch" type="xml">
                <field name="company_id" position="after">
                    <field name="partner_id" widget="selection"/>
                </field>
            </field>
        </record>

        <record id="vmi_account_account_form" model="ir.ui.view">
            <field name="name">vmi.account.account.form</field>
            <field name="model">account.account</field>
            <field name="inherit_id" ref="account.view_account_form"/>
            <field name="arch" type="xml">
                <field name="note" position="after">
                    <field name="rule_line">
                        <tree editable="bottom" string="Account Rules">
                            <field name="location_id"/>
                            <field name="category_id"/>
                            <field name="ratio"/>
                            <field name="product_id"/>
                        </tree>
                    </field>
                </field>
            </field>
        </record>

        <record id="view_ap_form" model="ir.ui.view">
            <field name="name">account.invoice.ap.form</field>
            <field name="model">account.invoice.ap</field>
            <field name="arch" type="xml">
                <form string="AP Default Value" version="7.0">
                    <sheet>
                        <group>
                            <field name="name"/>
                            <field name="paying_entity"/>
                            <field name="control_number"/>
                            <field name="operator_id"/>
                            <field name="vendor_group_number"/>
                            <field name="application_code"/>
                            <field name="bank_payment_code"/>
                            <field name="vendor_id"/>
                            <field name="vendor_number"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="view_ap_tree" model="ir.ui.view">
            <field name="name">account.invoice.ap.tree</field>
            <field name="model">account.invoice.ap</field>
            <field name="arch" type="xml">
                <tree string="AP Default Values">
                    <field name="name"/>
                    <field name="paying_entity"/>
                    <field name="control_number"/>
                    <field name="operator_id"/>
                    <field name="vendor_group_number"/>
                    <field name="application_code"/>
                    <field name="bank_payment_code"/>
                    <field name="vendor_id"/>
                    <field name="vendor_number"/>
                </tree>
            </field>
        </record>
        <record id="action_ap_form" model="ir.actions.act_window">
            <field name="name">AP Default Value</field>
            <field name="res_model">account.invoice.ap</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to define a new Default Value.
              </p>
            </field>
        </record>
        <menuitem action="action_ap_form" id="menu_action_ap_form" parent="account.menu_finance_configuration" sequence="1"/>

	</data>			  
</openerp>	
